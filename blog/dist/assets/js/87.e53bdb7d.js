(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{457:function(t,v,_){"use strict";_.r(v);var s=_(24),a=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[_("strong",{staticClass:"old-blog"},[t._v("堆内存 & 栈内存")])]),t._v(" "),_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#存储角度"}},[t._v("存储角度")])]),_("li",[_("a",{attrs:{href:"#存取速度"}},[t._v("存取速度")])]),_("li",[_("a",{attrs:{href:"#gc"}},[t._v("GC")])])])]),_("p"),t._v(" "),_("p",[t._v("前几天面试刚问到的 ，这几天有空话总结下")]),t._v(" "),_("p",[t._v("在js引擎中对变量的存储主要有两种内存，堆内存（heap）和栈内存（stack），下面从三个方面简单介绍")]),t._v(" "),_("h3",{attrs:{id:"存储角度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#存储角度"}},[t._v("#")]),t._v(" 存储角度")]),t._v(" "),_("p",[_("strong",[t._v("栈内存")]),t._v(" 主要用于存储各种基本类型的变量，包括"),_("code",[t._v("Boolean、Number、String、Undefined、Null")]),t._v("以及对象变量的"),_("code",[t._v("指针")]),t._v("，这时候栈内存给人的感觉就像一个线性排列的空间，每个小单元大小基本相等。")]),t._v(" "),_("p",[_("strong",[t._v("堆内存")]),t._v(" 主要负责像对象"),_("code",[t._v("Object")]),t._v("这种变量类型的存储")]),t._v(" "),_("p",[t._v("盗用一张图")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://ae01.alicdn.com/kf/H98e4d550d5d444d9b8d1666c70024915J.png",alt:""}})]),t._v(" "),_("p",[t._v("我们平时用"),_("code",[t._v("const")]),t._v("定义的常量，如果是引用数据类型的话，仅仅是在栈内存保存的一个指针，而对于const定义的基础变量而言，这个值就相当于const对象的指针，是不可变。当"),_("code",[t._v("let cosnt")]),t._v("在重新声明的时候，会首先遍历当前的"),_("code",[t._v("内存栈")]),t._v("，看看有没有重名变量，有的话就返回错误")]),t._v(" "),_("h3",{attrs:{id:"存取速度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#存取速度"}},[t._v("#")]),t._v(" 存取速度")]),t._v(" "),_("p",[t._v("栈区由于基本数据类型值比较简单，他们都是直接在栈内存中开辟一个位置，把值直接存储进去的，系统分配效率高，存取速度快")]),t._v(" "),_("p",[t._v("堆内存首先要在运行时动态分配内存，之后又要把指针存储到栈内存中，效率相对就要低一些了。")]),t._v(" "),_("h3",{attrs:{id:"gc"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#gc"}},[t._v("#")]),t._v(" GC")]),t._v(" "),_("p",[t._v("栈区GC比较频繁，变量基本上用完就回收了")]),t._v(" "),_("p",[t._v("堆区内存中的变量因为存在很多不确定的引用，一般由程序员分配释放， 若程序员不释放，程序结束时才可能被销毁")])])}),[],!1,null,null,null);v.default=a.exports}}]);